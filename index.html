<!DOCTYPE html>
<html>
<head>
<title>ZOORANDHAR</title>
<style>
body{
  margin:0;
  background:#1e1e2f;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

#gameCanvas{
  display:block;
  margin:auto;
  background:#4a90e2;
}

#score{
  position:absolute;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  color:white;
  font-size:32px;
  font-weight:bold;
}

#startScreen, #gameOverScreen{
  position:absolute;
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  background:rgba(0,0,0,0.7);
  color:white;
}

button{
  padding:10px 20px;
  font-size:18px;
  margin-top:15px;
  cursor:pointer;
}
</style>
</head>
<body>

<div id="score">0</div>

<div id="startScreen">
<h1>ZOORANDHAR</h1>
<p>Press Space / Click / Tap to Fly</p>
<button onclick="startGame()">Start Game</button>
</div>

<div id="gameOverScreen" style="display:none;">
<img src="gameover.jpeg" width="250">
<h2>Game Over</h2>
<button onclick="restartGame()">Restart</button>
</div>

<canvas id="gameCanvas" width="400" height="600"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const playerImg = new Image();
playerImg.src = "player.jpeg";

const obstacleImg = new Image();
obstacleImg.src = "obstacle.png";

let gravity = 0.4; // slower falling (easier control)
let lift = -8; // smoother jump
let speed = 1; // very slow speed (easy mode)

let player, pipes, score, gameRunning;

function init(){
player = {
  x:80,
  y:250,
  width:60,
  height:60,
  velocity:0
};

pipes = [];
score = 0;
gameRunning = false;
document.getElementById("score").innerText = score;
}

function startGame(){
document.getElementById("startScreen").style.display = "none";
document.getElementById("gameOverScreen").style.display = "none";
init();
gameRunning = true;
animate();
}

function restartGame(){
startGame();
}

function jump(){
if(gameRunning)
player.velocity = lift;
}

document.addEventListener("keydown", e=>{
if(e.code === "Space") jump();
});

canvas.addEventListener("mousedown", jump);
canvas.addEventListener("touchstart", jump);

function createPipe(){
let gap = 220; // bigger gap between pipes (easier)
let topHeight = Math.random()*300 + 50;

pipes.push({
  x: canvas.width,
  top: topHeight,
  bottom: canvas.height - topHeight - gap,
  width:70,
  passed:false
});
}

function drawPlayer(){
ctx.drawImage(playerImg, player.x, player.y, player.width, player.height);
}

function drawPipes(){
pipes.forEach(pipe=>{
  ctx.drawImage(obstacleImg, pipe.x, 0, pipe.width, pipe.top);
  ctx.drawImage(obstacleImg, pipe.x, canvas.height - pipe.bottom, pipe.width, pipe.bottom);
});
}

function update(){
player.velocity += gravity;
player.y += player.velocity;

if(player.y < 0 || player.y + player.height > canvas.height)
endGame();

pipes.forEach(pipe=>{
pipe.x -= speed;

// collision
if(player.x < pipe.x + pipe.width &&
   player.x + player.width > pipe.x &&
   (player.y < pipe.top || player.y + player.height > canvas.height - pipe.bottom)){
endGame();
}

// scoring
if(!pipe.passed && pipe.x + pipe.width < player.x){
pipe.passed = true;
score++;
document.getElementById("score").innerText = score;
}
});

pipes = pipes.filter(p=>p.x + p.width > 0);
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
drawPlayer();
drawPipes();
}

let frame = 0;

function animate(){
if(!gameRunning) return;

frame++;
if(frame % 140 === 0) createPipe(); // pipes appear less often

update();
draw();
requestAnimationFrame(animate);
}

function endGame(){
gameRunning = false;
document.getElementById("gameOverScreen").style.display = "flex";
}

init();
</script>

</body>
</html>
